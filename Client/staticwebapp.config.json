{
  "auth": {
    "identityProviders": {
      "azureActiveDirectory": {
        "registration": {
          "openIdIssuer": "https://login.microsoftonline.com/3396cd22-b31f-4c56-8da6-0eebb7b78a42/v2.0",
          "clientIdSettingName": "AAD_CLIENT_ID",
          "clientSecretSettingName": "AAD_CLIENT_SECRET"
        }
      }
    }
  },

  "routes": [
    { "route": "/admin/*",     "allowedRoles": ["admin"] },
    { "route": "/clinician/*", "allowedRoles": ["clinician", "admin"] },
    { "route": "/api/*",       "allowedRoles": ["authenticated"] },
    { "route": "/login",       "statusCode": 200 }
  ],

  "navigationFallback": {
    "rewrite": "/index.html",
    "exclude": [
      "/api/*",
      "/admin/*",
      "/clinician/*",
      "/*.css",
      "/*.js",
      "/*.png",
      "/*.jpg",
      "/*.svg",
      "/favicon.ico"
    ]
  },

  "responseOverrides": {
    "401": { "redirect": "/.auth/login/aad?post_login_redirect_uri=/" },
    "403": { "rewrite": "/forbidden.html" }
  },

  "mimeTypes": {
    ".json": "application/json",
    ".js": "application/javascript",
    ".css": "text/css",
    ".wasm": "application/wasm"
  }
}
